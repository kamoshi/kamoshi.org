---
import List from '../../layouts/List.astro';
import { getCollection } from 'astro:content';


const content = await getCollection('aoc');
const occ: {[key: string]: number} = {}

for (const doc of content) {
  const year = doc.slug.slice(0, 4);
  (year in occ) ? occ[year] += 1 : occ[year] = 1;
}

const pages = Object.entries(occ)
  .map(([year, occ]) => ({
    title: `${year} - ${occ} days`,
    slug: `/aoc/${year}/`,
  }));
---

<List title="Advent of Code" pages={pages} />
