---
import BetterList from "@layouts/BetterList.astro";
import { getCollection } from 'astro:content';
import { Temporal, toTemporalInstant } from "@js-temporal/polyfill";


const posts = (await getCollection('posts'))
  .map(entry => ({
    title: entry.data.title,
    path: `/posts/${entry.slug}/`,
    date: toTemporalInstant.call(entry.data.date).toZonedDateTimeISO("Europe/Warsaw"),
  }))
  .sort((a, b) => Temporal.ZonedDateTime.compare(a.date, b.date))

---

<BetterList title="Posts" pages={posts} />
